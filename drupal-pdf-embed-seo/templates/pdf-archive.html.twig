{#
/**
 * @file
 * Template for displaying the PDF archive page.
 *
 * This template can be overridden by copying it to your theme:
 * yourtheme/templates/pdf-archive.html.twig
 *
 * Features:
 * - Supports list and grid display styles (configurable in settings)
 * - SEO optimized with Schema.org breadcrumb markup
 * - Fully accessible with ARIA labels and title attributes
 *
 * Available variables:
 * - documents: Array of rendered PDF archive items.
 * - pager: The pager render array.
 * - filters: Optional taxonomy filters (premium feature).
 * - display_style: 'list' or 'grid'.
 * - show_description: Whether to show descriptions.
 * - show_view_count: Whether to show view counts.
 * - archive_title: The archive page title.
 * - archive_description: The archive page description.
 * - site_name: The site name.
 * - site_url: The site homepage URL.
 * - archive_url: The archive page URL.
 * - attributes: HTML attributes for the container.
 */
#}

{# Breadcrumb Schema.org markup #}
<script type="application/ld+json">
{
	"@context": "https://schema.org",
	"@type": "BreadcrumbList",
	"itemListElement": [
		{
			"@type": "ListItem",
			"position": 1,
			"name": {{ site_name|json_encode|raw }},
			"item": {{ site_url|json_encode|raw }}
		},
		{
			"@type": "ListItem",
			"position": 2,
			"name": {{ archive_title|json_encode|raw }},
			"item": {{ archive_url|json_encode|raw }}
		}
	]
}
</script>

<div{{ attributes.addClass('pdf-embed-seo-archive') }}>
  {# Visible breadcrumb navigation (JSON-LD schema is always output above for SEO) #}
  {% if show_breadcrumbs %}
    <nav class="pdf-embed-seo-breadcrumb" aria-label="{{ 'Breadcrumb'|t }}">
      <ol class="pdf-embed-seo-breadcrumb-list">
        <li class="pdf-embed-seo-breadcrumb-item">
          <a href="{{ site_url }}" title="{{ 'Go to %site homepage'|t({'%site': site_name}) }}">
            {{ site_name }}
          </a>
        </li>
        <li class="pdf-embed-seo-breadcrumb-item pdf-embed-seo-breadcrumb-current" aria-current="page">
          {{ archive_title }}
        </li>
      </ol>
    </nav>
  {% endif %}

  <header class="pdf-embed-seo-archive-header">
    <h1 class="pdf-embed-seo-archive-title">{{ archive_title }}</h1>
    {% if archive_description %}
      <div class="pdf-embed-seo-archive-description">
        <p>{{ archive_description }}</p>
      </div>
    {% endif %}
  </header>

  {% if filters is defined and filters %}
    <div class="pdf-embed-seo-filters-wrapper">
      {{ filters }}
    </div>
  {% endif %}

  {% if documents %}
    {% if display_style == 'list' %}
      {# List View - Simple accessible list #}
      <nav class="pdf-embed-seo-list-nav" aria-label="{{ 'PDF Documents List'|t }}">
        <ul class="pdf-embed-seo-list" role="list">
          {% for item in documents %}
            {{ item }}
          {% endfor %}
        </ul>
      </nav>
    {% else %}
      {# Grid View - Card layout with thumbnails #}
      <section class="pdf-embed-seo-grid" aria-label="{{ 'PDF Documents Gallery'|t }}">
        {% for item in documents %}
          {{ item }}
        {% endfor %}
      </section>
    {% endif %}

    {% if pager %}
      <nav class="pdf-embed-seo-pagination" aria-label="{{ 'PDF Documents pagination'|t }}">
        {{ pager }}
      </nav>
    {% endif %}
  {% else %}
    <div class="pdf-embed-seo-no-results" role="status">
      <p>{{ 'No PDF documents have been published yet.'|t }}</p>
    </div>
  {% endif %}
</div>
